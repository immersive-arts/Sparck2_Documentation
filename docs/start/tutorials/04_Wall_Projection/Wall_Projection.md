# Wall Projection
This tutorial explains how to configure SPARCK for a wall projection with one projector, and using the [CornerPin] node.

Download the project files here: [Wall_Projection.zip](https://github.com/immersive-arts/Sparck2/releases/download/1.0.0/Tutorial_Wall_Projection.zip)

## Setup with 1 projector
In your Max patch, add [SPARCK]. See [Getting Started](../01_Getting_Started/Getting_Started.md) for more information.

![SPARCK Corner Pin Setup](images/sparck.png)<br>
*SPARCK for this setup*

The image below shows the overall Max subpatcher **p Workspace**, which contains all the SPARCK nodes required for this configuration.

![Wall projection SPARCK setup](images/CornerPin_Setup.png)<br>
*Wall projection SPARCK setup*

![CornerPin desktop preview](images/cornerPin_desktop.png)<br>
*CornerPin **desktop** preview*

## Nodes Configuration
The following text explains and shows how to correctly setup all the different nodes for a wall projection setup.

### Window Node
This node outputs the rendered result of SPARCK to an output display — in this case, one projector.

![Window node](images/window.png)<br>
*Window node, available under 2_OUTPUT > WINDOW.maxpat*

**position**: Switch between **Output** or **Desktop**. **Output** displays visual content on the configured projectors, while **Desktop** creates a preview window.

**columns and rows**: Slices the [Window] into designated frames. In this case both the **columns** and **rows** are set to 1.

**display**: Press **setting...** to open the display setup tool and configure the total pixel area used for projection. Select the display(s) you want to use. Selected displays appear orange. Click **Store and Close** when done.

![Output setup](images/output_settings.png)<br>
*Setting interface to select and configure the display(s) used for projection.*

In this example, the computer is connected to two monitors (1920×1080 and 2560×1800, grayed out) and one projector (3840×2160, orange). Only the orange display is used for projection.

### Viewport Node
The [Viewport]{ data-preview } node creates a texture that is sent to the [Window].

![Viewport node](images/viewport.png)<br>
*Viewport node. Available under 01_UTILITY > VIEWPORT.maxpat*

**window**: References the [Window] node.

**slice**: Selects the designated slice where the content will be displayed — here, column 1 and row 1.

**mesh**: Set to **none** so that no mesh is applied, as the [CornerPin] node handles the mapping.

### CornerPin Node
The [CornerPin] node provides controls to map textures to the output window by freely repositioning the image corners.

![CornerPin node](images/corner_pin.png)<br>
*CornerPin node, available under 04_MAPPING > CORNERPIN.maxpat*

**edit...**: Opens the CornerPin editor. A pop-up window appears, allowing you to adjust the four corners to match the projection surface.

![CornerPin edit](images/cornerPin_edit.png)
*CornerPin edit interface*

**reset...**: Resets the CornerPin configuration.

**viewport**: Targets the [Viewport] where the CornerPin is rendered.

### SpoutReceiver Node
The [SpoutReceiver]{ data-preview } node receives textures from [Spout](https://spout.zeal.co/). These are typically real‑time animated textures generated by visual engines such as TouchDesigner, Unity, Unreal, or Notch.

![SpoutReceiver node](images/spout.png)<br>
*SpoutReceiver node, available under 1_INPUT > SPOUT.RECEIVER.maxpat*

**sender**: Select the Spout video stream.

**flip x**: Flip the incoming texture horizontally.

**flip y**: Flip the incoming texture vertically.

[Beamer]: ../../../reference/nodes/Beamer.md
[BlendSoftedge]: ../../../reference/nodes/BlendSoftedge.md
[BoxMapCamera]: ../../../reference/nodes/BoxMapCamera.md
[BoxMapCapture]: ../../../reference/nodes/BoxMapCapture.md
[CalibrationCross]: ../../../reference/nodes/CalibrationCross.md
[Canvas]: ../../../reference/nodes/Canvas.md
[CornerPin]: ../../../reference/nodes/CornerPin.md
[DrawMask]: ../../../reference/nodes/DrawMask.md
[Grid]: ../../../reference/nodes/Grid.md
[Hook]: ../../../reference/nodes/Hook.md
[Light]: ../../../reference/nodes/Light.md
[LookAtCamera]: ../../../reference/nodes/LookAtCamera.md
[Material]: ../../../reference/nodes/Material.md
[MeshWarp]: ../../../reference/nodes/MeshWarp.md
[Model]: ../../../reference/nodes/Model.md
[OptiTrack]: ../../../reference/nodes/OptiTrack.md
[QueScript]: ../../../reference/nodes/QueScript.md
[SceneCamera]: ../../../reference/nodes/SceneCamera.md
[SceneCapture]: ../../../reference/nodes/SceneCapture.md
[ShaderAnaglyph]: ../../../reference/nodes/ShaderAnaglyph.md
[ShaderBlur]: ../../../reference/nodes/ShaderBlur.md
[ShaderBrCoSa]: ../../../reference/nodes/ShaderBrCoSa.md
[ShaderColormap]: ../../../reference/nodes/ShaderColormap.md
[ShaderPointCloud]: ../../../reference/nodes/ShaderPointCloud.md
[ShaderRaymarcher]: ../../../reference/nodes/ShaderRaymarcher.md
[ShaderSelection]: ../../../reference/nodes/ShaderSelection.md
[ShaderTexStitch]: ../../../reference/nodes/ShaderTexStitch.md
[ShaderTexZoom]: ../../../reference/nodes/ShaderTexZoom.md
[ShdrTexOP]: ../../../reference/nodes/ShaderTexOP.md
[SkyBox]: ../../../reference/nodes/SkyBox.md
[SPARCK]: ../../../reference/sparck_core.md
[SpatialShadery]: ../../../reference/nodes/SpatialShadery.md
[SpoutReceiver]: ../../../reference/nodes/SpoutReceiver.md
[SpoutSender]: ../../../reference/nodes/SpoutSender.md
[SyphonSender]: ../../../reference/nodes/SyphonSender.md
[Texture]: ../../../reference/nodes/Texture.md
[TextureProjectury]: ../../../reference/nodes/TextureProjectory.md
[TfmLookAt]: ../../../reference/nodes/TfmLookAt.md
[TfmMerge]: ../../../reference/nodes/TfmMerge.md
[TfmMirror]: ../../../reference/nodes/TfmMirror.md
[TfmNode]: ../../../reference/nodes/TfmNode.md
[Video]: ../../../reference/nodes/Video.md
[Viewport]: ../../../reference/nodes/ViewPort.md
[Window]: ../../../reference/nodes/Window.md
